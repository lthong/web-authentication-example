{"version":3,"sources":["reducers/auth.js","reducers/index.js","constants/auth.js","components/Header/Header.js","components/Header/index.js","components/Home/Home.js","components/Home/index.js","components/UserForm/UserForm.js","components/UserForm/index.js","actions/auth.js","components/Login/index.js","components/Login/Login.js","components/Signup/index.js","components/Signup/Signup.js","components/App.js","index.js"],"names":["initState","token","authErrMsg","combineReducers","auth","state","action","type","Header","className","exact","to","activeClassName","Home","connect","title","formType","onSubmit","useState","email","password","formData","setFormData","customContent","useMemo","onFormDataChange","useCallback","target","key","id","value","prevState","onFormSubmit","e","preventDefault","htmlFor","onChange","required","UserForm","saveToken","response","data","dispatch","cb","localStorage","setItem","resetAuthErrMsg","Login","signin","axios","post","then","catch","history","useHistory","onLogin","push","useEffect","Signup","signup","error","onSignup","App","path","component","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","getItem","applyMiddleware","reduxThunk","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.c63f5949.chunk.js","sourcesContent":["import * as cons from 'constants/auth';\n\nconst initState = {\n  token: '',\n  authErrMsg: '',\n};\n\nexport default (state = initState, action) => {\n  switch (action.type) {\n    case cons.UPDATE_TOKEN:\n      return {\n        ...state,\n        token: action.token,\n      };\n\n    case cons.UPDATE_USER_AUTH_ERR_MSG:\n      return {\n        ...state,\n        authErrMsg: action.authErrMsg,\n      };\n\n    case cons.RESET_USER_AUTH_ERR_MSG:\n      return {\n        ...state,\n        authErrMsg: initState.authErrMsg,\n      };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport auth from './auth';\n\nexport default combineReducers({ auth });\n","export const UPDATE_TOKEN = 'auth/update_token';\nexport const UPDATE_USER_AUTH_ERR_MSG = 'auth/update_user_auth_err_msg';\nexport const RESET_USER_AUTH_ERR_MSG = 'auth/reset_user_auth_err_msg';\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst Header = () => {\n  return (\n    <div className='header'>\n      <NavLink exact to='/' activeClassName='active'>\n        Home\n      </NavLink>\n      <div className='right-navs'>\n        <NavLink to='/login' activeClassName='active' className='logout'>\n          Logout\n        </NavLink>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import Header from './Header';\nimport './style.scss';\n\nexport default Header;\n","import React from 'react';\nimport Header from 'components/Header';\n\nconst Home = () => {\n  return (\n    <div className='home'>\n      <Header />\n      <div className='content'>Home</div>\n    </div>\n  );\n};\n\nexport default Home;\n","import Home from './Home';\nimport './style.scss';\n\nexport default Home;\n","import React, { useState, useMemo, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst UserForm = ({\n  className = '',\n  title = 'Welcome',\n  formType,\n  onSubmit,\n  authErrMsg,\n}) => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n  });\n\n  const customContent = useMemo(\n    () =>\n      formType === 'login' && (\n        <div className='links'>\n          <Link to='/signup'>Signup</Link>\n          <span className='partition'>|</span>\n          <Link to='/'>Skip</Link>\n        </div>\n      ),\n    [formType]\n  );\n\n  const onFormDataChange = useCallback(({ target: { id: key, value } }) => {\n    setFormData((prevState) => ({ ...prevState, [key]: value }));\n  }, []);\n\n  const onFormSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      onSubmit(formData);\n    },\n    [onSubmit, formData]\n  );\n\n  return (\n    <div className={`user-form ${className}`}>\n      <form onSubmit={onFormSubmit}>\n        <div className='title'>{title}</div>\n        <label htmlFor='email'>Email</label>\n        <input\n          id='email'\n          type='email'\n          value={formData.email}\n          onChange={onFormDataChange}\n          required\n        />\n        <label htmlFor='password'>Password</label>\n        <input\n          id='password'\n          type='password'\n          value={formData.password}\n          onChange={onFormDataChange}\n          required\n        />\n        <div className='err'>{authErrMsg}</div>\n        <button type='submit'>Submit</button>\n        {customContent}\n      </form>\n    </div>\n  );\n};\n\nexport default connect((state) => ({\n  authErrMsg: state.auth.authErrMsg,\n}))(UserForm);\n","import UserForm from './UserForm';\nimport './style.scss';\n\nexport default UserForm;\n","import axios from 'axios';\nimport * as cons from 'constants/auth';\n\nconst saveToken = ({\n  response: {\n    data: { token },\n  },\n  dispatch,\n  cb = () => {},\n}) => {\n  localStorage.setItem('token', token);\n  dispatch({ type: cons.UPDATE_TOKEN, token });\n  cb();\n};\n\nexport const signup = ({ formData, cb }) => (dispatch) => {\n  axios\n    .post('http://localhost:3090/signup', formData)\n    .then((response) => {\n      saveToken({ response, dispatch, cb });\n    })\n    .catch((e) => {\n      const { error: authErrMsg } = e.response.data;\n      dispatch({\n        type: cons.UPDATE_USER_AUTH_ERR_MSG,\n        authErrMsg,\n      });\n    });\n};\n\nexport const signin = ({ formData, cb }) => (dispatch) => {\n  axios\n    .post('http://localhost:3090/signin', formData)\n    .then((response) => {\n      saveToken({ response, dispatch, cb });\n    })\n    .catch(() => {\n      dispatch({\n        type: cons.UPDATE_USER_AUTH_ERR_MSG,\n        authErrMsg: 'Invalid login credentials',\n      });\n    });\n};\n\nexport const resetAuthErrMsg = () => {\n  return {\n    type: cons.RESET_USER_AUTH_ERR_MSG,\n  };\n};\n","import Login from './Login';\n\nexport default Login;\n","import React, { useCallback, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport UserForm from 'components/UserForm';\nimport { signin, resetAuthErrMsg } from 'actions/auth';\n\nconst Login = ({ signin, resetAuthErrMsg }) => {\n  const history = useHistory();\n  const onLogin = useCallback(\n    (formData) => {\n      signin({\n        formData,\n        cb: () => {\n          history.push('/');\n        },\n      });\n    },\n    [history, signin]\n  );\n\n  useEffect(() => {\n    return () => {\n      resetAuthErrMsg();\n    };\n  });\n\n  return <UserForm formType='login' onSubmit={onLogin} />;\n};\n\nexport default connect(null, {\n  signin,\n  resetAuthErrMsg,\n})(Login);\n","import Signup from './Signup';\n\nexport default Signup;\n","import React, { useCallback, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport UserForm from 'components/UserForm';\nimport { signup, resetAuthErrMsg } from 'actions/auth';\n\nconst Signup = ({ signup, resetAuthErrMsg }) => {\n  const history = useHistory();\n  const onSignup = useCallback(\n    (formData) => {\n      signup({\n        formData,\n        cb: () => {\n          history.push('/');\n        },\n      });\n    },\n    [history, signup]\n  );\n\n  useEffect(() => {\n    return () => {\n      resetAuthErrMsg();\n    };\n  });\n\n  return <UserForm title='Signup' formType='signup' onSubmit={onSignup} />;\n};\n\nexport default connect(null, {\n  signup,\n  resetAuthErrMsg,\n})(Signup);\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Home from 'components/Home';\nimport Login from 'components/Login';\nimport Signup from 'components/Signup';\nimport 'stylesheets/app.scss';\n\nconst App = () => {\n  return (\n    <div>\n      <Switch>\n        <Route exact path='/' component={Home} />\n        <Route path='/login' component={Login} />\n        <Route path='/signup' component={Signup} />\n      </Switch>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport reducers from 'reducers';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from 'components/App';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  {\n    auth: { token: localStorage.getItem('token') || null },\n  },\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}